<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Aurora Projector Wi-Fi IR Remote | Relentless Optimizer</title>
<meta name=keywords content><meta name=description content="Editor&rsquo;s Note: This is the first guest post from my wife, Darinee!
Our neighbor gave the kids a couple of light projectors for Christmas, a galaxy one and an aurora one."><meta name=author content="Darinee Louvau"><link rel=canonical href=https://relentlessoptimizer.com/code/2023/02/23/aurora-projector-wi-fi-ir-remote/><link href=/assets/css/stylesheet.min.0b2e0140b43ef19b2a750e921516ad4fa6709d5410537b71ea94d625d11a0ddd.css integrity="sha256-Cy4BQLQ+8ZsqdQ6SFRatT6ZwnVQQU3tx6pTWJdEaDd0=" rel="preload stylesheet" as=style><link rel=icon href=https://relentlessoptimizer.com/favicon.svg type=image/svg+xml><link rel=icon href=https://relentlessoptimizer.com/favicon-128x128.png sizes=128x128><link rel=icon href=https://relentlessoptimizer.com/favicon-32x32.png sizes=32x32><link rel=icon href=https://relentlessoptimizer.com/favicon.ico sizes=16x16><meta name=generator content="Hugo 0.126.1"><link rel=alternate hreflang=en href=https://relentlessoptimizer.com/code/2023/02/23/aurora-projector-wi-fi-ir-remote/><meta property="og:title" content="Aurora Projector Wi-Fi IR Remote"><meta property="og:description" content="Editor&rsquo;s Note: This is the first guest post from my wife, Darinee!
Our neighbor gave the kids a couple of light projectors for Christmas, a galaxy one and an aurora one."><meta property="og:type" content="article"><meta property="og:url" content="https://relentlessoptimizer.com/code/2023/02/23/aurora-projector-wi-fi-ir-remote/"><meta property="og:image" content="https://relentlessoptimizer.com/img/aurora-galaxy-lights.jpg"><meta property="article:section" content="code"><meta property="article:published_time" content="2023-02-23T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-23T00:00:00+00:00"></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><div class=logo><a href=/ accesskey=h title="Relentless Optimizer (Alt + H)">Relentless Optimizer</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon"><use xlink:href="/assets/icons.svg#moon"/></svg><svg id="sun"><use xlink:href="/assets/icons.svg#sun"/></svg></button></span></div><nav class=site-nav><input type=checkbox id=nav-trigger class=nav-trigger>
<label for=nav-trigger><span class=menu-icon><svg><use xlink:href="/assets/icons.svg#menu"/></svg></span></label><div class=trigger><a class=page-link href=/about title=About>About</a>
<a class=page-link href=/code/ title=Code>Code</a>
<a class=page-link href=/finance/ title=Finance>Finance</a>
<a class=page-link href=/gaming/ title=Gaming>Gaming</a>
<a class=page-link href=/life/ title=Life>Life</a>
<a class=page-link href=/retire-early title="Retire Early">Retire Early</a></div></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=/>Home</a>&nbsp;Â»&nbsp;<a href=/code/>Code</a></div><h1 class=post-title>Aurora Projector Wi-Fi IR Remote</h1><div class=post-meta>February 23, 2023 Â· 5 min Â· Darinee Louvau</div></header><div class=post-content><p><em>Editor&rsquo;s Note: This is the first guest post from my wife, Darinee!</em></p><p>Our neighbor gave the kids a couple of light projectors for Christmas, a galaxy one and an aurora one. They project red, green, blue, and white lights to the ceiling in very organic ways. They&rsquo;re very cool! I have since conscripted the aurora projector for the living room. The projector came with a remote control to adjust things like color, speed, and the stars. However, who wants another IR remote to store and keep track of? Not me! So, I created a WiFi IR remote which I connected with Home Assistant so I can control the projector from anywhere.</p><p><img loading=lazy src=./img/aurora-galaxy-lights.jpg alt="Aurora and Galaxy lights"></p><p><img loading=lazy src=./img/base-unit-and-remote.jpg alt="Base Unit and Remote"></p><h2 id=reading-the-codes>Reading the Codes<a hidden class=anchor aria-hidden=true href=#reading-the-codes>#</a></h2><p>The first thing to do was figure out what kind of remote it was - IR (infrared) or RF (radio). Since both frequencies are outside visible range, you can&rsquo;t just look at it when you press the button. But, many phone cameras can <a href=https://www.quora.com/Can-your-phone-camera-see-infrared-light>&ldquo;see&rdquo; IR</a>, which may not be good if you&rsquo;re trying to create amazing phone pictures without unintentional interferences, but great for this purpose. And in fact the aurora remote is an IR remote.</p><p><img loading=lazy src=./img/quora-ir-visible-from-phone-camera.jpg alt="Source: Quora"></p><p>Next, I needed to figure out what codes are that the remote sends.</p><p>I used a D1 Mini (clone) module which uses the ESP8266 microcontroller which I flashed with <a href=https://tasmota.github.io/docs/>Tasmota</a>. Tasmota is an open-source firmware used for controlling ESP8266- and ESP32-based microcontrollers. It also supports integration with a home automation hub without the use of an external cloud service. It provides a web UI to assign functions to pins and can communicate over MQTT.</p><p>I had an IR receiver module, so all I had to do was hook it up to one of the pins and assign in the Tasmota configuration.</p><p><img loading=lazy src=./img/ir-reader.jpg alt="IR Receiver Circuit">
<img loading=lazy src=./img/tasmota-irrecv.png alt="IRrecv Tasmota config"></p><p>Then I simply pointed the remote at it and pressed each button. Tasmota logs each command in its Console, which I recorded. Underneath it uses the <a href=https://github.com/crankyoldgit/IRremoteESP8266>IRremoteESP8266 library</a> which is the same library I would use anyway if I had written the firmware myself.</p><p><img loading=lazy src=./img/ir-codes.png alt="IR Codes"></p><h2 id=prototype-ir-blaster>Prototype IR Blaster<a hidden class=anchor aria-hidden=true href=#prototype-ir-blaster>#</a></h2><p>With codes in hand, now I needed to send the IR signals to the base unit itself. I did this by hooking up an <a href="https://smile.amazon.com/Gikfun-Digital-Receiver-Transmitter-Arduino/dp/B0816P2545/ref=sr_1_4">IR transmitter</a> to my D1 mini and configured it appropriately in Tasmota.</p><p><img loading=lazy src=./img/ir-transmitter-and-base.jpg alt="IR transmitter next to base"></p><p>Then I issued Tasmota commands via its Console to have it send codes. It worked, hooray!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>IRSend {&#34;Protocol&#34;:&#34;NEC&#34;,&#34;Bits&#34;:32,&#34;Data&#34;:&#34;0x00FFA25D&#34;}
</span></span></code></pre></div><p><img loading=lazy src=./img/tasmota-irsend-command.png alt="Sending IR messages via Console"></p><h2 id=home-assistant-configuration>Home Assistant Configuration<a hidden class=anchor aria-hidden=true href=#home-assistant-configuration>#</a></h2><p>At this point, I wanted to see it working end-to-end via Home Assistant, which is what we use to control our home&rsquo;s smart devices without an external cloud service dependency. To do this, I first enabled MQTT on the D1 Mini, which is how secure communications can happen between HA and Tasmota devices. Then I created a new Dashboard in HA which issues MQTT messages when you press the buttons. Tasmota receives the MQTT messages and sends the appropriate payload with the IR transmitter.</p><p><img loading=lazy src=./img/ha-mqtt-configuration.png alt="HA MQTT button configuration"></p><h2 id=final-ir-blaster-integration-within-the-base-unit>Final IR Blaster (Integration within the Base Unit)<a hidden class=anchor aria-hidden=true href=#final-ir-blaster-integration-within-the-base-unit>#</a></h2><p>So, it was working end-to-end, but it looked sloppy and required an extra USB cable for power &ndash; was there a way I could make this look cleaner? I figured I could open up the machine and see if I can find a way to integrate the blaster more seeamlessly. There were four enclosure screws hidden under the rubber foot pads, and there was lots of space inside to embed the D1 Mini and transmitter.</p><p><img loading=lazy src=./img/base-unit-open.jpg alt="There&amp;rsquo;s so much room for activities!"></p><p>For power, I wanted 5V that would be on whenever the unit was plugged in, which I found right in the middle of the main PCB. How convenient!</p><p><img loading=lazy src=./img/base-unit-5v-gnd.jpg alt="5V and GND terminals"></p><p>I hooked up to that power and stuck the IR transmitter close by to the receiver. And, since I had the unit opened already, I snuck in a bluetooth connection NFC tag. So now if you want to connect to the unit via bluetooth, all you have to do is scan your phone near the side.</p><p><img loading=lazy src=./img/ir-blaster.jpg alt="D1 mini and IR transmitter embedded in base unit"></p><p>Finally, I put it back together, and it looks just like the stock projector - just smarter inside. ðŸŽ‰</p><p>Side notes:</p><ul><li>For space reasons, I wanted to use an ESP-12F module, which is simply the core ESP8266 chip, but it needs 3.3V, so you have to add a regulator to convert from 5V. It also requires additional circuitry to boot (a few pulldown and pullup resistors). Ultimately in the end it was easier to stick the full D1 Mini inside, as there was plenty of room anyway.</li><li>The range for the IR transmitter module I used really sucks. In fact, Tasmota themselves recommend against it, per their <a href=https://tasmota.github.io/docs/IR-Remote/>IR Remote</a> documentation. This actually led me down a huge troubleshooting path because I thought something was broken - turns out it was just not close enough and pointing in the right direction.</li><li>The transmitter module has 3 pins but you only need to hook up DATA and GND.</li><li>Home Assistant doesn&rsquo;t know the &ldquo;state&rdquo; of the unit; it is merely telling the IR remote to send signals. Maybe some time in the future, I&rsquo;ll find a signal pin on the board that will tell me whether the unit is on or not and reflect that in HA. Or, I&rsquo;ll just hook up the whole unit to a smart USB A outlet&mldr;. that is an upcoming project. :)</li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=/code/2022/08/10/how-to-performance-optimize-existing-code/><span class=title>Â« Previous Post</span><br><span>How to Performance Optimize Existing Code</span>
</a><a class=next href=/code/2023/03/23/diy-wireguard-setup/><span class=title>Next Post Â»</span><br><span>DIY Wireguard Setup</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=/>Relentless Optimizer</a>, all code <a href=/LICENSE.txt>MIT License</a></span>
<span>&#183;</span>
<span>Incessantly optimizing code, games, and finances.</span><div class=social-icons><a class=social-rss href=index.xml target=_blank title=Rss><svg><use xlink:href="/assets/icons.svg#rss"/></svg>
</a><a class=social-email href=obfuscated target=_blank title=Email><svg><use xlink:href="/assets/icons.svg#email"/></svg>
</a><a class=social-github href=https://github.com/ScottLouvau target=_blank title=Github><svg><use xlink:href="/assets/icons.svg#github"/></svg>
</a><a class=social-linkedin href=https://linkedin.com/in/scott-louvau-97846531 target=_blank title="Linked in"><svg><use xlink:href="/assets/icons.svg#linkedin"/></svg></a></div></footer><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>var mail=["mail","to:","scottlo","@","out","look","."];document.querySelectorAll(".social-email").forEach(e=>e.href=mail.join("")+"com")</script></body></html>